<div class="container">
  <img class="logo" src="assets/images/logo.jpeg" alt="logo">
  <div class="icons"> 
  <button class="person-btn" mat-icon-button [matMenuTriggerFor]="menu"  aria-label="Example icon-button with a menu">
    <mat-icon class="person_pin">person_pin</mat-icon>
  </button>
  <mat-menu #menu="matMenu">
    <mat-label mat-menu-item>
      <mat-icon class="menu">person_pin</mat-icon>
      <span>{{datas1}}</span>
    </mat-label>
  <mat-divider class="divider"></mat-divider>
    <button mat-menu-item routerLink='/setting'>
      <mat-icon class="menu">settings</mat-icon>
      <span>Settings</span>
    </button>
    <button mat-menu-item routerLink="/login">
      <mat-icon class="menu">logout</mat-icon>
      <span>Sign Out</span>
    </button>
  </mat-menu>
  </div>

  <mat-tab-group mat-align-tabs="start" #tap animationDuration="0ms">
  
    <mat-tab label="Dashboard">
      <div class="dashboard">
        <h1 class="title">Dashboard</h1>
      </div>

      <mat-divider class="divider"></mat-divider>
      <div class="cards">
      <div class="con-1">
      <mat-card class="card"><h3>ActiveClients</h3>{{this.dashboardlist?.activeClients}}</mat-card>
      <mat-card class="card"><h3>InactiveClients</h3>{{this.dashboardlist?.inactiveClients}}</mat-card>
      </div>
      <div class="con-2">
      <mat-card class="card"><h3>AssignedCampaigns</h3>{{this.dashboardlist?.assignedCampaigns}}</mat-card>
      <mat-card class="card"><h3>completedCampaigns</h3>{{this.dashboardlist?.completedCampaigns}}</mat-card>
      </div>

      </div>
    </mat-tab>

    <mat-tab label="Client">
      <div class="dashboard">
        <h1 class="title">Clients</h1>
        <div class="example-sidenav-content">
          <button type="button" class="add-client" mat-button (click)="onclick();">
            Add Client
          </button>
        </div>
      </div>

      <mat-drawer-container class="example-container">
      <div class="fradu" *ngIf="di">

        <mat-drawer #drawer [(opened)] = "opened" class="example-sidenav" mode='side' position='end'>
          <div class="sidenav-container">
            <div class="invite-client">
              <h1 class="invite-client-title">Invite Client</h1>
              <button mat-raised- class="clear-btn" (click)="onclic();">
                <mat-icon class="clear-icon">clear</mat-icon>
              </button>
            </div>          
            <form   [formGroup]="profileForm" (ngSubmit)="onSubmit()">
              <mat-form-field floatlabel="never" appearance='outline'>
                <mat-label>Name</mat-label>
                <input matInput placeholder="Enter Your Name" formControlName="name" required>
                <mat-error *ngIf="profileForm.controls['name'].touched">Maximum 16 character </mat-error>
              </mat-form-field>

              <mat-form-field appearance='outline'>
                <mat-label>Email</mat-label>
                <input matInput type="email" placeholder="Enter Your Email" formControlName="emailu">
                <mat-error *ngIf="profileForm.controls['emailu'].touched">Give a valid <strong>Email</strong></mat-error>
              </mat-form-field>

              <mat-form-field appearance='outline'>
                <mat-label>Mobile Number</mat-label>
                <input matInput placeholder="Enter Mobile Number" formControlName="mobile">
                <mat-error *ngIf="profileForm.controls['mobile'].touched">Mobile Number should be 10 digit</mat-error>
              </mat-form-field>

              <mat-form-field appearance='outline'>
                <mat-label>Company Name</mat-label>
                <input matInput placeholder="Enter Company Name" formControlName="company">
                <mat-error *ngIf="profileForm.controls['company'].touched">Company Name is <strong>required</strong></mat-error>
              </mat-form-field>

              <button mat-flat-button color="primary" [disabled]=!profileForm.valid type="submit">Send
                Invitation</button>
            </form>
          </div>
        </mat-drawer>
    </div>

      </mat-drawer-container>
  
      <div class="total-table">
        <table mat-table [dataSource]="clientlist" class="mat-elevation-z8">

          <ng-container matColumnDef="Name">
            <th class="heading" mat-header-cell *matHeaderCellDef> Name </th>
            <td mat-cell *matCellDef="let element"> <div class="name-div">{{element.name}}</div> 
              <div class="name-div">{{element.email}}</div>
              <button class="btn-mat-icon  mail" mat-icon-button matTooltip="Copy-email" (click)="copyfunc(element.email);">
                <mat-icon class="content_copy">content_copy
                </mat-icon>
              </button>
            </td>username
          </ng-container>

          <ng-container matColumnDef="phone">
            <th class="heading" mat-header-cell *matHeaderCellDef> Phone </th>
            <td mat-cell *matCellDef="let element"> {{element.phone}}
              <button class="btn-mat-icon ph-n" mat-icon-button (click)="copyfunc(element.phone);" matTooltip="Copy-phone-no">
                <mat-icon class="content_copy">content_copy
                </mat-icon>
              </button>
            </td>
          </ng-container>

          <ng-container matColumnDef="company">
            <th class="heading" mat-header-cell *matHeaderCellDef> Company </th>
            <td mat-cell *matCellDef="let element"> {{element.company}} </td>
          </ng-container>

          <ng-container matColumnDef="invitation">
            <th class="heading" mat-header-cell *matHeaderCellDef>Invitation </th>
            <td mat-cell *matCellDef="let element; let i = index">
            <span [class]="element.invitation == 'Pending'?'bg-red':'bg-green'">{{element.invitation}}</span>
      
            </td>
          </ng-container>
    
          <ng-container matColumnDef="status">
            <th class="heading" mat-header-cell *matHeaderCellDef> status </th>
            <td mat-cell *matCellDef="let element;let i = index">
              <div class="green-dot-content" *ngIf="element.is_deleted; else elseBlock">
                <div class="greenDot"></div> Active</div>
            <ng-template #elseBlock>
              <div class="redDot"></div>Suspended</ng-template> 
              <ng-template  class="red-dot-content" #elseBlock>
                <div class="redDot"></div>Suspended
              </ng-template>
            </td>
          </ng-container>

          <ng-container matColumnDef="created">
            <th class="heading" mat-header-cell *matHeaderCellDef>created</th>
            <td mat-cell *matCellDef="let element">{{element.created_at?.date|date:"mediumDate"}} <br>{{element.created_at?.date|date:"mediumTime"}}
            </td>
          </ng-container>

          <ng-container matColumnDef="updated">
            <th class="heading" mat-header-cell *matHeaderCellDef> updated </th>
            <td mat-cell *matCellDef="let element">{{element.updated_at?.date|date:"mediumDate"}} <br> {{element.updated_at?.date|date:"mediumTime"}}
          </ng-container>

          <ng-container matColumnDef="Action">
            <th class="heading" mat-header-cell *matHeaderCellDef> Action </th>
            <td mat-cell *matCellDef="let element; let i = index">
              <button mat-icon-button [ngClass]="kumar1" matTooltip="Restore" [disabled]='element.is_deleted' (click)='ret(element._id.oid,element.is_deleted,element)'>
                <mat-icon>autorenew</mat-icon>
              </button>
              <button mat-icon-button [ngClass]="kumar" matTooltip="Delete" [disabled]='!element.is_deleted' (click)='del(element._id.oid,element.is_deleted,element)'>
                <mat-icon MatTooltip="Delete">delete_forever</mat-icon>
              </button>
            </td>
          </ng-container>
          <tr class="table-row" mat-header-row *matHeaderRowDef="column"></tr>
          <tr class="table-row" mat-row *matRowDef="let row;columns: column;let i = index"></tr>
        </table>
            <mat-paginator [pageSize]="5" [pageSizeOptions]="[5,10,20]">
            </mat-paginator>
    </div>
  
    </mat-tab>
    <mat-tab label="Contact-lists" >
    <div class="sorry">
      <p >Sorry!Currently no service is available</p>
    </div>
  </mat-tab>
    <mat-tab label="Campaigns" >
    <div class="Campaigns">
    <h1 class="title">Campaigns</h1>
    </div>
    <div class="total-table">
      <table mat-table [dataSource]="campaignslist" class="mat-elevation-z8">

        <ng-container matColumnDef="Name">
          <th class="heading" mat-header-cell *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let element"> {{element.name}}
          </td>
        </ng-container>

        <ng-container matColumnDef="Description">
          <th class="heading" mat-header-cell *matHeaderCellDef>Description</th>
          <td mat-cell *matCellDef="let element"> {{element.description}}
          </td>
        </ng-container>

        <ng-container matColumnDef="client">
          <th class="heading" mat-header-cell *matHeaderCellDef> client </th>
          <td mat-cell *matCellDef="let element"> {{element.client}} </td>
        </ng-container>

        <ng-container matColumnDef="listid">
          <th class="heading" mat-header-cell *matHeaderCellDef>listid </th>
          <td mat-cell *matCellDef="let element">{{element.listId}}</td>
        </ng-container>

        <ng-container matColumnDef="status">
          <th class="heading" mat-header-cell *matHeaderCellDef>status</th>
          <td mat-cell *matCellDef="let element"> 
            <div *ngIf="!element.is_deleted; else elseBlock">Completed
            </div>
            <ng-template #elseBlock>InProgress</ng-template> </td>
        </ng-container>

        <ng-container matColumnDef="created">
          <th class="heading" mat-header-cell *matHeaderCellDef> created </th>
          <td mat-cell *matCellDef="let element"> {{element.created_at.date| date:'mediumDate'}}<br />{{element.created_at.date | date:'mediumTime'}}
          </td>
        </ng-container>

        <ng-container matColumnDef="EndDate">
          <th class="heading" mat-header-cell *matHeaderCellDef> EndDate </th>
          <td mat-cell *matCellDef="let element">{{element.updated_at.date| date:'mediumDate'}}<br />{{element.updated_at.date | date:'mediumTime'}}
          </td>
        </ng-container>

        <ng-container matColumnDef="updated">
          <th class="heading" mat-header-cell *matHeaderCellDef> updated </th>
          <td mat-cell *matCellDef="let element"> {{element.updated_at.date| date:'mediumDate'}}<br />{{element.updated_at.date | date:'mediumTime'}}
          </td>
        </ng-container>

        <ng-container matColumnDef="Action">
          <th class="heading" mat-header-cell *matHeaderCellDef>Action</th>
          <td mat-cell *matCellDef="let element; let i = index">


           <div  *ngIf="element.is_deleted; else elseBlock">
            <button mat-icon-button class="btn-mat-icon restore-btn" matTooltip="Restore" (click)='chec(element._id.oid,element.is_deleted)'>
              <mat-icon class="mat-icon-restore">autorenew</mat-icon>
            </button>
          </div>

            <ng-template #elseBlock>
              <button mat-icon-button class="btn-mat-icon restore-btn" matTooltip="Completed"  (click)='inprog(element._id.oid,element.is_deleted)'>
                <mat-icon class="mat-icon-restore">done</mat-icon>
              </button>
            </ng-template>

            <button mat-icon-button class="btn-mat-icon delete-btn" (click)="deleteFun(element._id.oid)">
              <mat-icon matTooltip="Delete">delete_forever</mat-icon>
              </button>
          </td>
        </ng-container>

        <tr class="table-row" mat-header-row *matHeaderRowDef="column1"></tr>
        <tr class="table-row" mat-row *matRowDef="let row; columns: column1;"></tr>
        </table>
            <mat-paginator  [pageSize]="5" [pageSizeOptions]="[5,10,20]" aria-label="Select page">
            </mat-paginator>
        </div>
    </mat-tab>
  </mat-tab-group>

</div> 